require=function i(u,a,c){function s(t,e){if(!a[t]){if(!u[t]){var o="function"==typeof require&&require;if(!e&&o)return o(t,!0);if(l)return l(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var r=a[t]={exports:{}};u[t][0].call(r.exports,function(e){return s(u[t][1][e]||e)},r,r.exports,i,u,a,c)}return a[t].exports}for(var l="function"==typeof require&&require,e=0;e<c.length;e++)s(c[e]);return s}({1:[function(e,t,o){"use strict";function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(o,"__esModule",{value:!0}),o.DataModel=void 0;var a=e("sd-utils"),c=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==u(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(e("./domain")),r=e("./validation-result");function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function i(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return n(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function l(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var f=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.nodes=[],this.edges=[],this.texts=[],this.payoffNames=[],this.defaultCriterion1Weight=1,this.weightLowerBound=0,this.weightUpperBound=1/0,this.expressionScope={},this.code="",this.$codeError=null,this.$codeDirty=!1,this.$version=1,this.validationResults=[],this.maxStackSize=20,this.undoStack=[],this.redoStack=[],this.undoRedoStateChangedCallback=null,this.nodeAddedCallback=null,this.nodeRemovedCallback=null,this.textAddedCallback=null,this.textRemovedCallback=null,this.callbacksDisabled=!1,e&&this.load(e)}var e,o,n;return e=t,(o=[{key:"getJsonReplacer",value:function(){var o=0<arguments.length&&void 0!==arguments[0]&&arguments[0],n=1<arguments.length&&void 0!==arguments[1]&&arguments[1],r=2<arguments.length?arguments[2]:void 0,i=!(3<arguments.length&&void 0!==arguments[3])||arguments[3];return function(e,t){if(!(i&&a.Utils.startsWith(e,"$")||"parentNode"==e||o&&"location"==e||n&&"computed"==e))return r?r(e,t):t}}},{key:"serialize",value:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],o=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=3<arguments.length?arguments[3]:void 0,r=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],i={code:this.code,expressionScope:this.expressionScope,trees:this.getRoots(),texts:this.texts,payoffNames:this.payoffNames.slice(),defaultCriterion1Weight:this.defaultCriterion1Weight,weightLowerBound:this.weightLowerBound,weightUpperBound:this.weightUpperBound};return e?a.Utils.stringify(i,this.getJsonReplacer(t,o,n,r),[]):i}},{key:"load",value:function(e){var n=this,t=this.callbacksDisabled;this.callbacksDisabled=!0,this.clear(),e.trees.forEach(function(e){n.createNodeFromData(e)}),e.texts&&e.texts.forEach(function(e){var t=new c.Point(e.location.x,e.location.y),o=new c.Text(t,e.value);n.texts.push(o)}),this.clearExpressionScope(),this.code=e.code||"",e.expressionScope&&a.Utils.extend(this.expressionScope,e.expressionScope),void 0!==e.payoffNames&&null!==e.payoffNames&&(this.payoffNames=e.payoffNames),void 0!==e.defaultCriterion1Weight&&null!==e.defaultCriterion1Weight&&(this.defaultCriterion1Weight=e.defaultCriterion1Weight),void 0!==e.weightLowerBound&&null!==e.weightLowerBound&&(this.weightLowerBound=e.weightLowerBound),void 0!==e.weightUpperBound&&null!==e.weightUpperBound&&(this.weightUpperBound=e.weightUpperBound),this.callbacksDisabled=t}},{key:"getDTO",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],o=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return{serializedData:this.serialize(!0,e,t,null,o),$codeError:this.$codeError,$codeDirty:this.$codeDirty,validationResults:this.validationResults.slice()}}},{key:"loadFromDTO",value:function(e,t){var o=this;this.load(JSON.parse(e.serializedData,t)),this.$codeError=e.$codeError,this.$codeDirty=e.$codeDirty,this.validationResults.length=0,e.validationResults.forEach(function(e){o.validationResults.push(r.ValidationResult.createFromDTO(e))})}},{key:"updateFrom",value:function(e){if(this.$version>e.$version)a.log.warn("DataModel.updateFrom: version of current model greater than update");else{var o={};e.nodes.forEach(function(e){o[e.id]=e}),this.nodes.forEach(function(e,t){o[e.id]&&e.loadComputedValues(o[e.id].computed)}),e.edges.forEach(function(e){o[e.id]=e}),this.edges.forEach(function(e,t){o[e.id]&&e.loadComputedValues(o[e.id].computed)}),this.expressionScope=e.expressionScope,this.$codeError=e.$codeError,this.$codeDirty=e.$codeDirty,this.validationResults=e.validationResults}}},{key:"getGlobalVariableNames",value:function(){var o=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],n=[];return a.Utils.forOwn(this.expressionScope,function(e,t){o&&a.Utils.isFunction(e)||n.push(t)}),n}},{key:"createNodeFromData",value:function(e,t){var o,n,r=this;n=e.location?new c.Point(e.location.x,e.location.y):new c.Point(0,0),c.DecisionNode.$TYPE==e.type?o=new c.DecisionNode(n):c.ChanceNode.$TYPE==e.type?o=new c.ChanceNode(n):c.TerminalNode.$TYPE==e.type&&(o=new c.TerminalNode(n)),e.id&&(o.id=e.id),e.$fieldStatus&&(o.$fieldStatus=e.$fieldStatus),o.name=e.name,e.code&&(o.code=e.code),e.expressionScope&&(o.expressionScope=e.expressionScope),e.computed&&o.loadComputedValues(e.computed),o.folded=!!e.folded;var i=this.addNode(o,t);return e.childEdges.forEach(function(e){var t=r.createNodeFromData(e.childNode,o);a.Utils.isArray(e.payoff)?t.payoff=e.payoff:t.payoff=[e.payoff,0],t.probability=e.probability,t.name=e.name,e.computed&&t.loadComputedValues(e.computed),e.id&&(t.id=e.id),e.$fieldStatus&&(t.$fieldStatus=e.$fieldStatus)}),i}},{key:"addNode",value:function(e,t){if(this.nodes.push(e),t){var o=this._addChild(t,e);return this._fireNodeAddedCallback(e),o}return this._fireNodeAddedCallback(e),e}},{key:"injectNode",value:function(e,t){var o=t.parentNode,n=t.childNode;this.nodes.push(e),e.$parent=o,t.childNode=e,this._addChild(e,n),this._fireNodeAddedCallback(e)}},{key:"_addChild",value:function(e,t){var o=new c.Edge(e,t);return this._setEdgeInitialProbability(o),this.edges.push(o),e.childEdges.push(o),t.$parent=e,o}},{key:"_setEdgeInitialProbability",value:function(e){e.parentNode instanceof c.ChanceNode?e.probability="#":e.probability=void 0}},{key:"removeNode",value:function(o){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=this;o.childEdges.forEach(function(e){return n.removeNode(e.childNode,t+1)}),n._removeNode(o);var e=o.$parent;if(e){var r=a.Utils.find(e.childEdges,function(e,t){return e.childNode===o});0==t?n.removeEdge(r):n._removeEdge(r)}this._fireNodeRemovedCallback(o)}},{key:"removeNodes",value:function(e){var t=this;this.findSubtreeRoots(e).forEach(function(e){return t.removeNode(e,0)},this)}},{key:"convertNode",value:function(e,t){var o,n=this;!e.childEdges.length&&e.$parent?o=this.createNodeByType(t,e.location):e instanceof c.DecisionNode&&t==c.ChanceNode.$TYPE?o=this.createNodeByType(t,e.location):t==c.DecisionNode.$TYPE&&(o=this.createNodeByType(t,e.location)),o&&(o.name=e.name,this.replaceNode(o,e),o.childEdges.forEach(function(e){return n._setEdgeInitialProbability(e)}),this._fireNodeAddedCallback(o))}},{key:"createNodeByType",value:function(e,t){return e==c.DecisionNode.$TYPE?new c.DecisionNode(t):e==c.ChanceNode.$TYPE?new c.ChanceNode(t):e==c.TerminalNode.$TYPE?new c.TerminalNode(t):void 0}},{key:"replaceNode",value:function(t,o){var e=o.$parent;(t.$parent=e)&&(a.Utils.find(t.$parent.childEdges,function(e){return e.childNode===o}).childNode=t);t.childEdges=o.childEdges,t.childEdges.forEach(function(e){return e.parentNode=t});var n=this.nodes.indexOf(o);~n&&(this.nodes[n]=t)}},{key:"getRoots",value:function(){return this.nodes.filter(function(e){return!e.$parent})}},{key:"findSubtreeRoots",value:function(t){return t.filter(function(e){return!e.$parent||-1===t.indexOf(e.$parent)})}},{key:"cloneSubtree",value:function(e,n){var r=this,i=this.cloneNode(e);return e.childEdges.forEach(function(e){var t=r.cloneSubtree(e.childNode,n);t.$parent=i;var o=a.Utils.clone(e);o.id=a.Utils.guid(),o.parentNode=i,o.childNode=t,o.payoff=a.Utils.cloneDeep(e.payoff),o.computed={},n&&(o.computed=a.Utils.cloneDeep(e.computed),t.computed=a.Utils.cloneDeep(e.childNode.computed)),i.childEdges.push(o)}),n&&(i.computed=a.Utils.cloneDeep(e.computed)),i}},{key:"attachSubtree",value:function(e,t){var o=this,n=o.addNode(e,t);return e.expressionScope=null,o.getAllDescendantEdges(e).forEach(function(e){o.edges.push(e),o.nodes.push(e.childNode),e.childNode.expressionScope=null}),n}},{key:"cloneNodes",value:function(e){}},{key:"cloneNode",value:function(e){var t=a.Utils.clone(e);return t.id=a.Utils.guid(),t.location=a.Utils.clone(e.location),t.computed=a.Utils.clone(e.computed),t.$parent=null,t.childEdges=[],t}},{key:"findNodeById",value:function(t){return a.Utils.find(this.nodes,function(e){return e.id==t})}},{key:"findEdgeById",value:function(t){return a.Utils.find(this.edges,function(e){return e.id==t})}},{key:"findById",value:function(e){var t=this.findNodeById(e);return t||this.findEdgeById(e)}},{key:"_removeNode",value:function(e){var t=this.nodes.indexOf(e);-1<t&&this.nodes.splice(t,1)}},{key:"removeEdge",value:function(e){var t=e.parentNode.childEdges.indexOf(e);-1<t&&e.parentNode.childEdges.splice(t,1),this._removeEdge(e)}},{key:"_removeEdge",value:function(e){var t=this.edges.indexOf(e);-1<t&&this.edges.splice(t,1)}},{key:"_removeNodes",value:function(t){this.nodes=this.nodes.filter(function(e){return-1===t.indexOf(e)})}},{key:"_removeEdges",value:function(t){this.edges=this.edges.filter(function(e){return-1===t.indexOf(e)})}},{key:"getAllDescendantEdges",value:function(e){var t=this,o=[];return e.childEdges.forEach(function(e){o.push(e),e.childNode&&o.push.apply(o,i(t.getAllDescendantEdges(e.childNode)))}),o}},{key:"getAllDescendantNodes",value:function(e){var t=this,o=[];return e.childEdges.forEach(function(e){e.childNode&&(o.push(e.childNode),o.push.apply(o,i(t.getAllDescendantNodes(e.childNode))))}),o}},{key:"getAllNodesInSubtree",value:function(e){var t=this.getAllDescendantNodes(e);return t.unshift(e),t}},{key:"isUndoAvailable",value:function(){return!!this.undoStack.length}},{key:"isRedoAvailable",value:function(){return!!this.redoStack.length}},{key:"createStateSnapshot",value:function(e){return{revertConf:e,nodes:a.Utils.cloneDeep(this.nodes),edges:a.Utils.cloneDeep(this.edges),texts:a.Utils.cloneDeep(this.texts),payoffNames:a.Utils.cloneDeep(this.payoffNames),defaultCriterion1Weight:a.Utils.cloneDeep(this.defaultCriterion1Weight),weightLowerBound:a.Utils.cloneDeep(this.weightLowerBound),weightUpperBound:a.Utils.cloneDeep(this.weightUpperBound),expressionScope:a.Utils.cloneDeep(this.expressionScope),code:this.code,$codeError:this.$codeError}}},{key:"saveStateFromSnapshot",value:function(e){return this.redoStack.length=0,this._pushToStack(this.undoStack,e),this._fireUndoRedoCallback(),this}},{key:"saveState",value:function(e){return this.saveStateFromSnapshot(this.createStateSnapshot(e)),this}},{key:"undo",value:function(){var e=this,t=this.undoStack.pop();if(t)return this._pushToStack(this.redoStack,{revertConf:t.revertConf,nodes:e.nodes,edges:e.edges,texts:e.texts,payoffNames:e.payoffNames,defaultCriterion1Weight:e.defaultCriterion1Weight,weightLowerBound:e.weightLowerBound,weightUpperBound:e.weightUpperBound,expressionScope:e.expressionScope,code:e.code,$codeError:e.$codeError}),this._setNewState(t),this._fireUndoRedoCallback(),this}},{key:"redo",value:function(){var e=this,t=this.redoStack.pop();if(t)return this._pushToStack(this.undoStack,{revertConf:t.revertConf,nodes:e.nodes,edges:e.edges,texts:e.texts,payoffNames:e.payoffNames,defaultCriterion1Weight:e.defaultCriterion1Weight,weightLowerBound:e.weightLowerBound,weightUpperBound:e.weightUpperBound,expressionScope:e.expressionScope,code:e.code,$codeError:e.$codeError}),this._setNewState(t,!0),this._fireUndoRedoCallback(),this}},{key:"clear",value:function(){this.nodes.length=0,this.edges.length=0,this.undoStack.length=0,this.redoStack.length=0,this.texts.length=0,this.clearExpressionScope(),this.code="",this.$codeError=null,this.$codeDirty=!1,this.payoffNames=[],this.defaultCriterion1Weight=1,this.weightLowerBound=0,this.weightUpperBound=1/0}},{key:"clearComputedValues",value:function(){this.nodes.forEach(function(e){return e.clearComputedValues()}),this.edges.forEach(function(e){return e.clearComputedValues()})}},{key:"addText",value:function(e){this.texts.push(e),this._fireTextAddedCallback(e)}},{key:"removeTexts",value:function(e){var t=this;e.forEach(function(e){return t.removeText(e)})}},{key:"removeText",value:function(e){var t=this.texts.indexOf(e);-1<t&&(this.texts.splice(t,1),this._fireTextRemovedCallback(e))}},{key:"clearExpressionScope",value:function(){var o=this;a.Utils.forOwn(this.expressionScope,function(e,t){delete o.expressionScope[t]})}},{key:"reversePayoffs",value:function(){this.payoffNames.reverse(),this.edges.forEach(function(e){return e.payoff.reverse()})}},{key:"_setNewState",value:function(e,t){var n=a.Utils.getObjectByIdMap(e.nodes),r=a.Utils.getObjectByIdMap(e.edges);this.nodes=e.nodes,this.edges=e.edges,this.texts=e.texts,this.payoffNames=e.payoffNames,this.defaultCriterion1Weight=e.defaultCriterion1Weight,this.weightLowerBound=e.weightLowerBound,this.weightUpperBound=e.weightUpperBound,this.expressionScope=e.expressionScope,this.code=e.code,this.$codeError=e.$codeError,this.nodes.forEach(function(e){for(var t=0;t<e.childEdges.length;t++){var o=r[e.childEdges[t].id];(e.childEdges[t]=o).parentNode=e,o.childNode=n[o.childNode.id]}}),e.revertConf&&(!t&&e.revertConf.onUndo&&e.revertConf.onUndo(e.revertConf.data),t&&e.revertConf.onRedo&&e.revertConf.onRedo(e.revertConf.data)),this.revertConf=e.revertConf}},{key:"_pushToStack",value:function(e,t){e.length>=this.maxStackSize&&e.shift(),e.push(t)}},{key:"_fireUndoRedoCallback",value:function(){!this.callbacksDisabled&&this.undoRedoStateChangedCallback&&this.undoRedoStateChangedCallback()}},{key:"_fireNodeAddedCallback",value:function(e){!this.callbacksDisabled&&this.nodeAddedCallback&&this.nodeAddedCallback(e)}},{key:"_fireNodeRemovedCallback",value:function(e){!this.callbacksDisabled&&this.nodeRemovedCallback&&this.nodeRemovedCallback(e)}},{key:"_fireTextAddedCallback",value:function(e){!this.callbacksDisabled&&this.textAddedCallback&&this.textAddedCallback(e)}},{key:"_fireTextRemovedCallback",value:function(e){!this.callbacksDisabled&&this.textRemovedCallback&&this.textRemovedCallback(e)}}])&&l(e.prototype,o),n&&l(e,n),t}();o.DataModel=f},{"./domain":3,"./validation-result":13,"sd-utils":"sd-utils"}],2:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.Edge=void 0;var r=e("./object-with-computed-values");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(i){var u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,o,n=l(i);if(u){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return t=this,!(o=e)||"object"!==a(o)&&"function"!=typeof o?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):o}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var n=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(a,r.ObjectWithComputedValues);var t,o,n,u=s(a);function a(e,t,o,n,r){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(i=u.call(this)).name="",i.probability=void 0,i.payoff=[0,0],i.$DISPLAY_VALUE_NAMES=["probability","payoff","optimal"],i.parentNode=e,i.childNode=t,void 0!==o&&(i.name=o),void 0!==r&&(i.probability=r),void 0!==n&&(i.payoff=n),i}return t=a,(o=[{key:"setName",value:function(e){return this.name=e,this}},{key:"setProbability",value:function(e){return this.probability=e,this}},{key:"setPayoff",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.payoff[t]=e,this}},{key:"computedBaseProbability",value:function(e){return this.computedValue(null,"probability",e)}},{key:"computedBasePayoff",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.computedValue(null,"payoff["+t+"]",e)}},{key:"displayProbability",value:function(e){return this.displayValue("probability",e)}},{key:"displayPayoff",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.displayValue("payoff["+t+"]",e)}}])&&i(t.prototype,o),n&&i(t,n),a}();o.Edge=n},{"./object-with-computed-values":8}],3:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=e("./node/node");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(o,e,{enumerable:!0,get:function(){return n[e]}})});var r=e("./node/decision-node");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(o,e,{enumerable:!0,get:function(){return r[e]}})});var i=e("./node/chance-node");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(o,e,{enumerable:!0,get:function(){return i[e]}})});var u=e("./node/terminal-node");Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(o,e,{enumerable:!0,get:function(){return u[e]}})});var a=e("./edge");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(o,e,{enumerable:!0,get:function(){return a[e]}})});var c=e("./point");Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(o,e,{enumerable:!0,get:function(){return c[e]}})});var s=e("./text");Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(o,e,{enumerable:!0,get:function(){return s[e]}})})},{"./edge":2,"./node/chance-node":4,"./node/decision-node":5,"./node/node":6,"./node/terminal-node":7,"./point":10,"./text":11}],4:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ChanceNode=void 0;var n=e("./node");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(i){var u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,o,n=c(i);if(u){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return t=this,!(o=e)||"object"!==a(o)&&"function"!=typeof o?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):o}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}(o,n.Node);var t=i(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t.call(this,o.$TYPE,e)}return o}();(o.ChanceNode=u).$TYPE="chance"},{"./node":6}],5:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.DecisionNode=void 0;var n=e("./node");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(i){var u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,o,n=c(i);if(u){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return t=this,!(o=e)||"object"!==a(o)&&"function"!=typeof o?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):o}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}(o,n.Node);var t=i(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t.call(this,o.$TYPE,e)}return o}();(o.DecisionNode=u).$TYPE="decision"},{"./node":6}],6:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.Node=void 0;var u=e("../point"),a=e("../object-with-computed-values");function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(i){var u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,o,n=d(i);if(u){var r=d(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return t=this,!(o=e)||"object"!==c(o)&&"function"!=typeof o?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):o}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var n=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(i,a.ObjectWithComputedValues);var t,o,n,r=f(i);function i(e,t){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(o=r.call(this)).childEdges=[],o.name="",o.code="",o.$codeDirty=!1,o.$codeError=null,o.expressionScope=null,o.folded=!1,o.$DISPLAY_VALUE_NAMES=["childrenPayoff","aggregatedPayoff","probabilityToEnter","optimal"],(o.location=t)||(o.location=new u.Point(0,0)),o.type=e,o}return t=i,(o=[{key:"setName",value:function(e){return this.name=e,this}},{key:"moveTo",value:function(e,t,o){if(o){var n=e-this.location.x,r=t-this.location.y;this.childEdges.forEach(function(e){return e.childNode.move(n,r,!0)})}return this.location.moveTo(e,t),this}},{key:"move",value:function(t,o,e){return e&&this.childEdges.forEach(function(e){return e.childNode.move(t,o,!0)}),this.location.move(t,o),this}}])&&s(t.prototype,o),n&&s(t,n),i}();o.Node=n},{"../object-with-computed-values":8,"../point":10}],7:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.TerminalNode=void 0;var n=e("./node");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(i){var u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,o,n=c(i);if(u){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return t=this,!(o=e)||"object"!==a(o)&&"function"!=typeof o?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):o}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}(o,n.Node);var t=i(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t.call(this,o.$TYPE,e)}return o}();(o.TerminalNode=u).$TYPE="terminal"},{"./node":6}],8:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ObjectWithComputedValues=void 0;var r=e("sd-utils"),a=e("./object-with-id-and-editable-fields");function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=i(n);if(r){var o=i(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return f(this,e)}}function f(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(u,a.ObjectWithIdAndEditableFields);var t,o,n,i=l(u);function u(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return f(t,(e=t=i.call.apply(i,[this].concat(n)),t.computed={},e))}return t=u,(o=[{key:"computedValue",value:function(e,t,o){var n="computed.";return e&&(n+=e+"."),n+=t,void 0===o?r.Utils.get(this,n,null):(r.Utils.set(this,n,o),o)}},{key:"clearComputedValues",value:function(e){var t=this;null!=e?r.Utils.isArray(e)?e.forEach(function(e){t.computed[e]={}}):this.computed[e]={}:this.computed={}}},{key:"clearDisplayValues",value:function(){this.computed.$displayValues={}}},{key:"displayValue",value:function(e,t){return this.computedValue(null,"$displayValues."+e,t)}},{key:"loadComputedValues",value:function(e){this.computed=r.Utils.cloneDeep(e)}}])&&c(t.prototype,o),n&&c(t,n),u}();o.ObjectWithComputedValues=u},{"./object-with-id-and-editable-fields":9,"sd-utils":"sd-utils"}],9:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ObjectWithIdAndEditableFields=void 0;var r=e("sd-utils");function i(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=r.Utils.guid(),this.$fieldStatus={},this.$ObjectWithIdAndEditableFields=!0}var t,o,n;return t=e,(o=[{key:"getFieldStatus",value:function(e){return r.Utils.get(this.$fieldStatus,e,null)||r.Utils.set(this.$fieldStatus,e,{valid:{syntax:!0,value:!0}}),r.Utils.get(this.$fieldStatus,e)}},{key:"setSyntaxValidity",value:function(e,t){this.getFieldStatus(e).valid.syntax=t}},{key:"setValueValidity",value:function(e,t){this.getFieldStatus(e).valid.value=t}},{key:"isFieldValid",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],o=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],n=this.getFieldStatus(e);return t&&o?n.valid.syntax&&n.valid.value:t?n.valid.syntax:n.valid.value}}])&&i(t.prototype,o),n&&i(t,n),e}();o.ObjectWithIdAndEditableFields=n},{"sd-utils":"sd-utils"}],10:[function(e,t,o){"use strict";function r(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(o,"__esModule",{value:!0}),o.Point=void 0;var n=function(){function o(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),e instanceof o?(t=e.y,e=e.x):Array.isArray(e)&&(t=e[1],e=e[0]),this.x=e,this.y=t}var e,t,n;return e=o,(t=[{key:"moveTo",value:function(e,t){return Array.isArray(e)&&(t=e[1],e=e[0]),this.x=e,this.y=t,this}},{key:"move",value:function(e,t){return Array.isArray(e)&&(t=e[1],e=e[0]),this.x+=e,this.y+=t,this}}])&&r(e.prototype,t),n&&r(e,n),o}();o.Point=n},{}],11:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.Text=void 0;var u=e("./point"),a=(e("sd-utils"),e("./object-with-id-and-editable-fields"));function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(i){var u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,o,n=d(i);if(u){var r=d(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return t=this,!(o=e)||"object"!==c(o)&&"function"!=typeof o?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):o}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var n=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(i,a.ObjectWithIdAndEditableFields);var t,o,n,r=f(i);function i(e,t){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(o=r.call(this)).value="",(o.location=e)||(o.location=new u.Point(0,0)),t&&(o.value=t),o}return t=i,(o=[{key:"moveTo",value:function(e,t){return this.location.moveTo(e,t),this}},{key:"move",value:function(e,t){return this.location.move(e,t),this}}])&&s(t.prototype,o),n&&s(t,n),i}();o.Text=n},{"./object-with-id-and-editable-fields":9,"./point":10,"sd-utils":"sd-utils"}],12:[function(e,t,o){"use strict";function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(o,"__esModule",{value:!0});var n={domain:!0};o.domain=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==u(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=n?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(o,r,i):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(e("./domain"));o.domain=r;var i=e("./data-model");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||Object.defineProperty(o,e,{enumerable:!0,get:function(){return i[e]}}))});var a=e("./validation-result");function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||Object.defineProperty(o,e,{enumerable:!0,get:function(){return a[e]}}))})},{"./data-model":1,"./domain":3,"./validation-result":13}],13:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ValidationResult=void 0;var i=e("sd-utils");function r(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var n=function(){function o(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.errors={},this.warnings={},this.objectIdToError={}}var e,t,n;return e=o,n=[{key:"createFromDTO",value:function(e){var t=new o;return t.errors=e.errors,t.warnings=e.warnings,t.objectIdToError=e.objectIdToError,t}}],(t=[{key:"addError",value:function(e,t){i.Utils.isString(e)&&(e={name:e});var o=e.name,n=this.errors[o];n||(n=[],this.errors[o]=n);var r=this.objectIdToError[t.id];r||(r=[],this.objectIdToError[t.id]=r),n.push(t),r.push(e)}},{key:"addWarning",value:function(e,t){var o=this.warnings[e];o||(o=[],this.warnings[e]=o),o.push(t)}},{key:"isValid",value:function(){return 0===Object.getOwnPropertyNames(this.errors).length}}])&&r(e.prototype,t),n&&r(e,n),o}();o.ValidationResult=n},{"sd-utils":"sd-utils"}],"sd-model":[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=e("./src/index");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(o,e,{enumerable:!0,get:function(){return n[e]}})})},{"./src/index":12}]},{},[]);
//# sourceMappingURL=sd-model.min.js.map
